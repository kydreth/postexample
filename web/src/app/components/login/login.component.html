<div class="main-content">
    <div class='container-fluid'>
        <div class="row justify-content-center">
            <div class='col-lg-6 col-md-12'>
                <div class='card'>
                    <div class = 'card-header card-header-primary'>
                        <h4 class = 'card-title'>Login</h4>
                    </div>
                    <div class="card-body">
                        <div class=''>
                            Welcome to <a href="http://example.com" target="_blank">Post Example</a>
                            <ul>
                                <li>If you don't have an account, go to the menu to the left or icon top right, then click register</li>
                            </ul>
                        </div>
                        <form
                                *ngIf="!isLoggedIn"
                                name="form"
                                (ngSubmit)="f.form.valid && onSubmit()"
                                #f="ngForm"
                                novalidate
                        >
                            <div class="form-group">
                                <input
                                        type="email"
                                        class="form-control"
                                        name="email"
                                        placeholder="Email"
                                        autocomplete="email"
                                        [(ngModel)]="form.username"
                                        required
                                        #username="ngModel"
                                />
                                <div
                                        class="alert alert-danger"
                                        role="alert"
                                        *ngIf="f.submitted && username.invalid"
                                >
                                    Username is required!
                                </div>
                            </div>
                            <div class="form-group">
                                <input
                                        type="password"
                                        class="form-control"
                                        name="password"
                                        placeholder = 'Password'
                                        autocomplete="current-password"
                                        [(ngModel)]="form.password"
                                        required
                                        minlength="8"
                                        #password="ngModel"
                                />
                                <div
                                        class="alert alert-danger"
                                        role="alert"
                                        *ngIf="f.submitted && password.invalid"
                                >
                                    <div *ngIf="password.errors.required">Password is required</div>
                                    <div *ngIf="password.errors.minlength">
                                        Password must be at least 8 characters
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary btn-block">
                                    Login
                                </button>
                                <button (click)="goToRegistration()" class="btn btn-grey btn-block">
                                    No Account? Click here to go register
                                </button>
                            </div>
                            <div class="form-group">
                                <div
                                        class="alert alert-danger"
                                        role="alert"
                                        *ngIf="f.submitted && isLoginFailed"
                                >
                                    Login failed: {{ errorMessage }}
                                </div>
                            </div>
                        </form>

                        <div class="alert alert-success" *ngIf="isLoggedIn">
                            Logged in as {{ roles }}.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
